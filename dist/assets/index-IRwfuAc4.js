import{r as b}from"./icon.utils-BzaQiRL0.js";import{_ as C}from"./DocumentTypeForm.vue_vue_type_script_setup_true_lang-BTtS_B8X.js";import{i as S}from"./DataTable.types-DKc2i3jV.js";import{d as y,a9 as w,a4 as M,a6 as o,aa as t,ah as T,ag as D,h as z,r as p,ai as F,aj as E,ac as x,ab as g,ak as q,_ as V,ae as H,al as O}from"./index-BDy3jz-R.js";import{u as R}from"./composables-D20BIpNr.js";import{_ as j}from"./Dropdown-DschnT-y.js";import{N as A,_ as G,a as L}from"./Col-C2AyWxkb.js";import{_ as W,a as J}from"./documentType.services-CWSTuR9m.js";import{d as K}from"./debounce.utils-DqPPCsFD.js";import{_ as Q}from"./DataTable-BjnUjyJ9.js";import{_ as X}from"./FormItem-DAU9UqDA.js";import"./Switch-HHJXHes7.js";import"./get-I814HMgj.js";import"./Tooltip-BC78MQpo.js";const Y=y({__name:"DataTableOp",props:{item:{}},emits:["edit","delete"],setup(s,{emit:a}){const l=R(),e=a,c=[{label:"Editar",key:"edit",icon:b("edit-2"),props:{onClick:()=>e("edit")}},{label:"Eliminar",key:"delete",icon:b("trash","red"),props:{style:{color:"red"},onClick:()=>{l.warning({title:"Confirmar",content:"¿Está seguro que desea eliminar este registro?",positiveText:"Eliminar",negativeText:"Cancelar",closable:!1,showIcon:!1,negativeButtonProps:{secondary:!0,type:"tertiary",size:"large"},positiveButtonProps:{size:"large",type:"error"},onPositiveClick:()=>{e("delete")}})}}}];return(i,n)=>{const r=D,h=j;return w(),M(h,{options:c,placement:"bottom-start"},{default:o(()=>[t(r,null,{default:o(()=>[t(T,{"icon-name":"setting-5",size:"20"})]),_:1})]),_:1})}}}),Z=(s,a)=>[{title:"Ops.",key:"ops",width:"80px",fixed:"left",render(l){const e=l;return z(Y,{onEdit:()=>{s(e)},onDelete:()=>{a(e)},item:e},{default:()=>"Editar"})}},{title:"Nombre",key:"name",minWidth:"300px"},{title:"Habilitado",key:"isEnabled",width:"150px",render:l=>z(A,{type:l.isEnabled?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>l.isEnabled?"	Habilitado":"Deshabilitado"})}],ee=(s=S())=>({page:s.page,total:s.total,pageSize:s.pageSize,pageCount:s.pageCount,showSizePicker:!0,pageSizes:[10,50,100,500,1e3,5e3],style:{paddingRight:"16px",paddingBottom:"12px"},prefix(){return`Total ${s.total} registros`}}),te={style:{"border-bottom":"1px solid #e9e9e9"}},ae=y({__name:"DataTable",setup(s){const a=p(!1),l=p([]),e=p(!1),c=p(null),i=F({...S()}),n=p({search:null,page:i.page,pageSize:i.pageSize}),r=p({}),B=Z(u=>{c.value=u,e.value=!0},async u=>{await J(u),await d()}),d=async()=>{n.value.page=1,await m()},m=async()=>{a.value=!0,r.value=await W(n.value),l.value=r.value.data,i.total=r.value.total,i.pageSize=r.value.per_page,i.page=r.value.current_page,i.pageCount=r.value.last_page,a.value=!1},I=K(()=>{d()},400),$=async u=>{n.value.page=u,await m()},P=async u=>{n.value.page=1,n.value.pageSize=u,await m()};return(async()=>{await m()})(),(u,_)=>{const f=G,N=X,k=L,U=Q;return w(),E(V,null,[x("div",te,[t(k,{gutter:12,style:{padding:"12px 16px"}},{default:o(()=>[t(f,{span:12}),t(f,{span:12},{default:o(()=>[t(N,{size:"large",placeholder:"Buscar",value:n.value.search,"onUpdate:value":_[0]||(_[0]=v=>n.value.search=v),onInput:g(I),clearable:""},{suffix:o(()=>[t(T,{"icon-name":"search-normal-1",size:"20"})]),_:1},8,["value","onInput"])]),_:1})]),_:1}),t(k,null,{default:o(()=>[t(f,{span:24},{default:o(()=>[t(U,{key:"id",remote:"","single-line":!1,columns:g(B),data:l.value,pagination:g(ee)(i),"pagination-show-size-picker":!0,loading:a.value,"onUpdate:page":$,"onUpdate:pageSize":P},null,8,["columns","data","pagination","loading"])]),_:1})]),_:1}),q(u.$slots,"extra",{reLoadDataTable:d})]),t(C,{modelValue:e.value,"onUpdate:modelValue":_[1]||(_[1]=v=>e.value=v),item:c.value,onSuccess:d},null,8,["modelValue","item"])],64)}}}),xe=y({__name:"index",setup(s){const a=p(!1);return(l,e)=>{const c=D,i=O;return w(),E(V,null,[t(i,{segmented:{header:!0,content:!0}},{header:o(()=>e[2]||(e[2]=[x("span",{class:"text-sm text-slate-500"}," Gestionar los tipos de documentos ",-1),x("h5",{class:"text-lg font-bold text-slate-800"},"Tipos de Documentos",-1)])),"header-extra":o(()=>[t(c,{"render-icon":g(b)("additem"),onClick:e[0]||(e[0]=n=>a.value=!0)},{default:o(()=>e[3]||(e[3]=[H(" Agregar ")])),_:1},8,["render-icon"])]),_:1}),t(ae,null,{extra:o(({reLoadDataTable:n})=>[t(C,{modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r),item:null,onSuccess:n},null,8,["modelValue","onSuccess"])]),_:1})],64)}}});export{xe as default};
