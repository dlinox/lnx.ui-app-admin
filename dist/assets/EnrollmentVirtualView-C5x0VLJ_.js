import{i as y,r as T}from"./DataTable.types-O1f2gI-n.js";import{_ as W}from"./CourseForm.vue_vue_type_script_setup_true_lang-D8TzgGT-.js";import{f as $}from"./enrollment.services-B2kXsMop.js";import{d as B}from"./debounce.utils-DqPPCsFD.js";import{d as h,r as u,ak as P,a9 as b,al as k,aa as a,a6 as t,ab as m,ah as D,am as O,ac as E,ae as x,_ as U,ag as I,ai as M}from"./index-DYxGiGyZ.js";import{_ as N,b as G}from"./Col-1P6V_qQb.js";import{_ as L}from"./FormItem-khv4guBG.js";import{_ as R}from"./DataTable-CEAYLJVh.js";import{_ as q}from"./selectables.services-CHFlFHJd.js";import"./get-B5_b6rDM.js";import"./course.services-Bldac5lu.js";import"./useBreakpoints-9dF7HQ25.js";import"./area.services-B7kICXUF.js";import"./module.services-BRv_agxv.js";import"./InputNumber-Msu28y1j.js";import"./Switch--OPcRDA5.js";import"./Dropdown-B_S2k-69.js";import"./ChevronRight-Dw_frzul.js";const A=()=>[{title:"Estado de matrícula",key:"enrollmentStatus",minWidth:"150px"},{title:"Estudiante",key:"student",minWidth:"300px"},{title:"Módulo",key:"module",minWidth:"200px"},{title:"Curso",key:"course",minWidth:"200px"},{title:"Grupo",key:"group",minWidth:"100px"},{title:"Modalidad",key:"modality",minWidth:"100px"},{title:"Laboratorio",key:"laboratory",minWidth:"150px"},{title:"Período",key:"period",minWidth:"100"}],F=(i=y())=>({page:i.page,total:i.total,pageSize:i.pageSize,pageCount:i.pageCount,showSizePicker:!0,pageSizes:[10,50,100,500,1e3,5e3],style:{paddingRight:"16px",paddingBottom:"12px"},prefix(){return`Total ${i.total} registros`}}),j={style:{"border-bottom":"1px solid #e9e9e9"}},H=h({__name:"DataTable",setup(i){const s=u(!1),r=u([]),n=P({...y()}),o=u({search:null,page:n.page,pageSize:n.pageSize}),e=u({}),d=A(),c=async()=>{o.value.page=1,await l()},l=async()=>{s.value=!0,e.value=await $(o.value),r.value=e.value.data,n.total=e.value.total,n.pageSize=e.value.per_page,n.page=e.value.current_page,n.pageCount=e.value.last_page,s.value=!1},_=B(()=>{c()},400),S=async p=>{o.value.page=p,await l()},z=async p=>{o.value.page=1,o.value.pageSize=p,await l()};return(async()=>{await l()})(),(p,f)=>{const g=N,C=L,v=G,w=R;return b(),k("div",j,[a(v,{gutter:12,style:{padding:"12px 16px"}},{default:t(()=>[a(g,{span:12}),a(g,{span:12},{default:t(()=>[a(C,{size:"large",placeholder:"Buscar",value:o.value.search,"onUpdate:value":f[0]||(f[0]=V=>o.value.search=V),onInput:m(_),clearable:""},{suffix:t(()=>[a(D,{"icon-name":"search-normal-1",size:"20"})]),_:1},8,["value","onInput"])]),_:1})]),_:1}),a(v,null,{default:t(()=>[a(g,{span:24},{default:t(()=>[a(w,{key:"id",remote:"","single-line":!1,columns:m(d),data:r.value,pagination:m(F)(n),"pagination-show-size-picker":!0,loading:s.value,"onUpdate:page":S,"onUpdate:pageSize":z},null,8,["columns","data","pagination","loading"])]),_:1})]),_:1}),O(p.$slots,"extra",{reLoadDataTable:c})])}}}),de=h({__name:"EnrollmentVirtualView",setup(i){const s=u([]),r=u(!1);return(async()=>{s.value=await q()})(),(o,e)=>{const d=I,c=M;return b(),k(U,null,[a(c,{segmented:{header:!0,content:!0}},{header:t(()=>e[2]||(e[2]=[E("h6",{style:{color:"#999",margin:"0"}},"Gestión de Courses academicas",-1),x(" Courses ")])),"header-extra":t(()=>[a(d,{"render-icon":m(T)("additem"),onClick:e[0]||(e[0]=l=>r.value=!0)},{default:t(()=>e[3]||(e[3]=[x(" Agregar ")])),_:1},8,["render-icon"])]),_:1}),a(H,{curriculumOptions:s.value},{extra:t(({reLoadDataTable:l})=>[a(W,{modelValue:r.value,"onUpdate:modelValue":e[1]||(e[1]=_=>r.value=_),item:null,onSuccess:l,curriculumOptions:s.value},null,8,["modelValue","onSuccess","curriculumOptions"])]),_:1},8,["curriculumOptions"])],64)}}});export{de as default};
