import{d as C,r as s,g as U,ag as y,a8 as n,a4 as a,a3 as N,aa as E,Z as b,ae as D,al as I,a7 as i,ah as d,ab as u,a9 as h,ak as w,ay as A,ac as L}from"./index-Bqe-vxMq.js";import{r as R}from"./icon.utils-DnuXdNV1.js";import{d as j}from"./debounce.utils-rmPTix7t.js";import{_ as q,c as z}from"./StudentForm.vue_vue_type_script_setup_true_lang-HRqnMQgd.js";import{d as P}from"./studentType.services-pqEZOUlZ.js";import{d as Z}from"./documentType.services-BaOm9PiV.js";import{_ as G,a as H,b as J}from"./Thing-C_VzSLz8.js";import{_ as K}from"./Divider-2qeRHmQi.js";import{_ as O}from"./Input-yPERYFUO.js";import{a as Q,c as W,_ as X}from"./DataTable.types-C3XSPyHT.js";import"./get-C8gX6CwU.js";import"./genders.constans-ZqlXwVVz.js";import"./useBreakpoints-CGGSJYYs.js";import"./FormItem-BBmdDte0.js";const Y={style:{"text-align":"end"}},ee={style:{padding:"0 1rem",color:"#999","font-size":"0.8rem"}},ye=C({__name:"EnrollmentView",setup(te){const x=I(),p=s(!1),_=s({}),o=s({code:"",documentNumber:"",name:"",lastNameFather:"",lastNameMother:""}),c=s([]),v=s(!0),f=s(!1),S=l=>{o.value.documentNumber=l.documentNumber,o.value.name=l.name,o.value.lastNameFather=l.lastNameFather,o.value.lastNameMother=l.lastNameMother};return U(o.value,j(async l=>{console.log(l),f.value=!0,c.value=await z(l),f.value=!1},500)),(async()=>{v.value=!0,_.value.studentTypesItems=await P(),_.value.documentTypesItems=await Z(),v.value=!1})(),(l,e)=>{const g=L,V=K,r=O,m=Q,k=W,M=D,T=X,F=H,$=J,B=G;return i(),y(b,null,[n(M,{segmented:{header:!0,footer:!0,content:!0}},{header:a(()=>e[6]||(e[6]=[d("h6",{style:{color:"#999",margin:"0"}},"Matriculas",-1),u(" Matricular estudiantes ")])),"header-extra":a(()=>[n(g,{"render-icon":h(R)("additem"),type:"primary",onClick:e[0]||(e[0]=t=>p.value=!0)},{default:a(()=>e[7]||(e[7]=[u(" Estudiante ")])),_:1},8,["render-icon"])]),action:a(()=>[n(V,{"title-placement":"left",style:{margin:"0 0 1rem 0"}},{default:a(()=>e[8]||(e[8]=[u(" Buscar estudiantes ")])),_:1}),n(k,{gutter:"16"},{default:a(()=>[n(m,{span:"5"},{default:a(()=>[n(r,{type:"text",value:o.value.documentNumber,"onUpdate:value":e[1]||(e[1]=t=>o.value.documentNumber=t),placeholder:"NÂ° de Documento"},null,8,["value"])]),_:1}),n(m,{span:"7"},{default:a(()=>[n(r,{type:"text",value:o.value.name,"onUpdate:value":e[2]||(e[2]=t=>o.value.name=t),placeholder:"Nombre"},null,8,["value"])]),_:1}),n(m,{span:"6"},{default:a(()=>[n(r,{type:"text",value:o.value.lastNameFather,"onUpdate:value":e[3]||(e[3]=t=>o.value.lastNameFather=t),placeholder:"Apellido Paterno"},null,8,["value"])]),_:1}),n(m,{span:"6"},{default:a(()=>[n(r,{type:"text",value:o.value.lastNameMother,"onUpdate:value":e[4]||(e[4]=t=>o.value.lastNameMother=t),placeholder:"Apellido Materno"},null,8,["value"])]),_:1})]),_:1})]),_:1}),n(B,{hoverable:"",clickable:""},{header:a(()=>[d("div",Y,[d("i",ee,[e[9]||(e[9]=u(" Se muestran los 10 mejores resultados de la busqueda | ")),d("strong",null," Total de resultados: "+w(c.value.length),1)])])]),default:a(()=>[(i(!0),y(b,null,A(c.value,t=>(i(),N($,{style:{margin:"0 1rem"},key:t.id},{suffix:a(()=>[n(g,{onClick:ne=>h(x).push({name:"EnrollmentStudent",params:{id:t.id}})},{default:a(()=>e[10]||(e[10]=[u(" Seleccionar ")])),_:2},1032,["onClick"])]),default:a(()=>[n(F,{title:`${t.name} ${t.lastName}`,description:`${t.documentType?t.documentType:"-"}    ${t.documentNumber?t.documentNumber:"-"}`},{default:a(()=>[n(T,{bordered:!1},{default:a(()=>[u(w(t.studentType),1)]),_:2},1024)]),_:2},1032,["title","description"])]),_:2},1024))),128))]),_:1}),v.value?E("",!0):(i(),N(q,{key:0,modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=t=>p.value=t),item:null,selectables:_.value,onSuccess:S},null,8,["modelValue","selectables"]))],64)}}});export{ye as default};
