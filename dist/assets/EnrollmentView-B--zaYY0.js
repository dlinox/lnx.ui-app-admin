import{d as E,a7 as U,r,g as D,a9 as i,aj as b,aa as n,a6 as a,ac as d,ae as s,ab as g,ao as S,_ as k,az as I,a4 as w,ad as j,ag as z,al as A}from"./index-BDy3jz-R.js";import{r as L}from"./icon.utils-BzaQiRL0.js";import{d as R}from"./debounce.utils-DqPPCsFD.js";import{_ as q}from"./StudentForm.vue_vue_type_script_setup_true_lang-BZJt8p8A.js";import{b as P}from"./student.services-EGZtlMWC.js";import{d as G}from"./studentType.services-CC815G7j.js";import{b as H}from"./documentType.services-CWSTuR9m.js";import{_ as J,a as K,b as O}from"./Thing-Db17URGU.js";import{_ as Q}from"./Divider-D7JIxVyu.js";import{_ as W}from"./FormItem-DAU9UqDA.js";import{_ as X,a as Y,N as Z}from"./Col-C2AyWxkb.js";import"./genders.constans-ZqlXwVVz.js";import"./useBreakpoints-3aRiryBT.js";import"./Switch-HHJXHes7.js";import"./get-I814HMgj.js";import"./DataTable.types-DKc2i3jV.js";const ee={style:{"text-align":"end"}},te={style:{padding:"0 1rem",color:"#999","font-size":"0.8rem"}},be=E({__name:"EnrollmentView",setup(ae){const N=U(),p=r(!1),_=r({}),o=r({code:"",documentNumber:"",name:"",lastNameFather:"",lastNameMother:""}),c=r([]),v=r(!0),y=r(!1),x=l=>{o.value.documentNumber=l.documentNumber,o.value.name=l.name,o.value.lastNameFather=l.lastNameFather,o.value.lastNameMother=l.lastNameMother};return D(o.value,R(async l=>{console.log(l),y.value=!0,c.value=await P(l),y.value=!1},500)),(async()=>{v.value=!0,_.value.studentTypesItems=await G(),_.value.documentTypesItems=await H(),v.value=!1})(),(l,e)=>{const f=z,M=Q,u=W,m=X,V=Y,T=A,$=Z,h=K,C=O,F=J;return i(),b(k,null,[n(T,{segmented:{header:!0,footer:!0,content:!0}},{header:a(()=>e[6]||(e[6]=[d("h6",{style:{color:"#999",margin:"0"}},"Matriculas",-1),s(" Matricular estudiantes ")])),"header-extra":a(()=>[n(f,{"render-icon":g(L)("additem"),type:"primary",onClick:e[0]||(e[0]=t=>p.value=!0)},{default:a(()=>e[7]||(e[7]=[s(" Estudiante ")])),_:1},8,["render-icon"])]),action:a(()=>[n(M,{"title-placement":"left",style:{margin:"0 0 1rem 0"}},{default:a(()=>e[8]||(e[8]=[s(" Buscar estudiantes ")])),_:1}),n(V,{gutter:"16"},{default:a(()=>[n(m,{span:"5"},{default:a(()=>[n(u,{type:"text",value:o.value.documentNumber,"onUpdate:value":e[1]||(e[1]=t=>o.value.documentNumber=t),placeholder:"NÂ° de Documento"},null,8,["value"])]),_:1}),n(m,{span:"7"},{default:a(()=>[n(u,{type:"text",value:o.value.name,"onUpdate:value":e[2]||(e[2]=t=>o.value.name=t),placeholder:"Nombre"},null,8,["value"])]),_:1}),n(m,{span:"6"},{default:a(()=>[n(u,{type:"text",value:o.value.lastNameFather,"onUpdate:value":e[3]||(e[3]=t=>o.value.lastNameFather=t),placeholder:"Apellido Paterno"},null,8,["value"])]),_:1}),n(m,{span:"6"},{default:a(()=>[n(u,{type:"text",value:o.value.lastNameMother,"onUpdate:value":e[4]||(e[4]=t=>o.value.lastNameMother=t),placeholder:"Apellido Materno"},null,8,["value"])]),_:1})]),_:1})]),_:1}),n(F,{hoverable:"",clickable:""},{header:a(()=>[d("div",ee,[d("i",te,[e[9]||(e[9]=s(" Se muestran los 10 mejores resultados de la busqueda | ")),d("strong",null," Total de resultados: "+S(c.value.length),1)])])]),default:a(()=>[(i(!0),b(k,null,I(c.value,t=>(i(),w(C,{style:{margin:"0 1rem"},key:t.id},{suffix:a(()=>[n(f,{class:"m-2",onClick:B=>g(N).push({name:"EnrollmentStudent",params:{id:t.id}})},{default:a(()=>e[10]||(e[10]=[s(" Matricular ")])),_:2},1032,["onClick"]),n(f,{onClick:B=>g(N).push({name:"EnrollmentSpecialStudent",params:{id:t.id}})},{default:a(()=>e[11]||(e[11]=[s(" Matriculas Especiales ")])),_:2},1032,["onClick"])]),default:a(()=>[n(h,{title:`${t.name} ${t.lastName}`,description:`${t.documentType?t.documentType:"-"}    ${t.documentNumber?t.documentNumber:"-"}`},{default:a(()=>[n($,{bordered:!1},{default:a(()=>[s(S(t.studentType),1)]),_:2},1024)]),_:2},1032,["title","description"])]),_:2},1024))),128))]),_:1}),v.value?j("",!0):(i(),w(q,{key:0,modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=t=>p.value=t),item:null,selectables:_.value,onSuccess:x},null,8,["modelValue","selectables"]))],64)}}});export{be as default};
