import{d as C,a7 as U,r as s,g as E,a9 as i,al as N,aa as n,a6 as a,ac as d,ae as r,ab as y,ao as b,_ as w,aG as D,a4 as x,ad as I,ag as A,ai as L}from"./index-BzGjg7HW.js";import{r as R}from"./DataTable.types-CWkwFvml.js";import{d as j}from"./debounce.utils-DqPPCsFD.js";import{_ as q}from"./StudentForm.vue_vue_type_script_setup_true_lang-BAbrG26t.js";import{b as z}from"./student.services-3TyR0h8R.js";import{d as G}from"./studentType.services-Xs8IoyUB.js";import{d as P}from"./documentType.services-Cq6_9Muf.js";import{_ as H,a as J,b as K}from"./Thing-DiqCXtFm.js";import{_ as O}from"./Divider-XozH2MUa.js";import{_ as Q}from"./FormItem-Baka7rSs.js";import{_ as W,b as X,N as Y}from"./Col-B1xrStaH.js";import"./get-Q-alL0iz.js";import"./genders.constans-ZqlXwVVz.js";import"./useBreakpoints-jDxkxCqO.js";import"./Switch-mfNYKium.js";const Z={style:{"text-align":"end"}},ee={style:{padding:"0 1rem",color:"#999","font-size":"0.8rem"}},ye=C({__name:"EnrollmentView",setup(te){const S=U(),p=s(!1),_=s({}),o=s({code:"",documentNumber:"",name:"",lastNameFather:"",lastNameMother:""}),c=s([]),v=s(!0),f=s(!1),V=l=>{o.value.documentNumber=l.documentNumber,o.value.name=l.name,o.value.lastNameFather=l.lastNameFather,o.value.lastNameMother=l.lastNameMother};return E(o.value,j(async l=>{console.log(l),f.value=!0,c.value=await z(l),f.value=!1},500)),(async()=>{v.value=!0,_.value.studentTypesItems=await G(),_.value.documentTypesItems=await P(),v.value=!1})(),(l,e)=>{const g=A,h=O,u=Q,m=W,T=X,k=L,M=Y,$=J,F=K,B=H;return i(),N(w,null,[n(k,{segmented:{header:!0,footer:!0,content:!0}},{header:a(()=>e[6]||(e[6]=[d("h6",{style:{color:"#999",margin:"0"}},"Matriculas",-1),r(" Matricular estudiantes ")])),"header-extra":a(()=>[n(g,{"render-icon":y(R)("additem"),type:"primary",onClick:e[0]||(e[0]=t=>p.value=!0)},{default:a(()=>e[7]||(e[7]=[r(" Estudiante ")])),_:1},8,["render-icon"])]),action:a(()=>[n(h,{"title-placement":"left",style:{margin:"0 0 1rem 0"}},{default:a(()=>e[8]||(e[8]=[r(" Buscar estudiantes ")])),_:1}),n(T,{gutter:"16"},{default:a(()=>[n(m,{span:"5"},{default:a(()=>[n(u,{type:"text",value:o.value.documentNumber,"onUpdate:value":e[1]||(e[1]=t=>o.value.documentNumber=t),placeholder:"NÂ° de Documento"},null,8,["value"])]),_:1}),n(m,{span:"7"},{default:a(()=>[n(u,{type:"text",value:o.value.name,"onUpdate:value":e[2]||(e[2]=t=>o.value.name=t),placeholder:"Nombre"},null,8,["value"])]),_:1}),n(m,{span:"6"},{default:a(()=>[n(u,{type:"text",value:o.value.lastNameFather,"onUpdate:value":e[3]||(e[3]=t=>o.value.lastNameFather=t),placeholder:"Apellido Paterno"},null,8,["value"])]),_:1}),n(m,{span:"6"},{default:a(()=>[n(u,{type:"text",value:o.value.lastNameMother,"onUpdate:value":e[4]||(e[4]=t=>o.value.lastNameMother=t),placeholder:"Apellido Materno"},null,8,["value"])]),_:1})]),_:1})]),_:1}),n(B,{hoverable:"",clickable:""},{header:a(()=>[d("div",Z,[d("i",ee,[e[9]||(e[9]=r(" Se muestran los 10 mejores resultados de la busqueda | ")),d("strong",null," Total de resultados: "+b(c.value.length),1)])])]),default:a(()=>[(i(!0),N(w,null,D(c.value,t=>(i(),x(F,{style:{margin:"0 1rem"},key:t.id},{suffix:a(()=>[n(g,{onClick:ne=>y(S).push({name:"EnrollmentStudent",params:{id:t.id}})},{default:a(()=>e[10]||(e[10]=[r(" Seleccionar ")])),_:2},1032,["onClick"])]),default:a(()=>[n($,{title:`${t.name} ${t.lastName}`,description:`${t.documentType?t.documentType:"-"}    ${t.documentNumber?t.documentNumber:"-"}`},{default:a(()=>[n(M,{bordered:!1},{default:a(()=>[r(b(t.studentType),1)]),_:2},1024)]),_:2},1032,["title","description"])]),_:2},1024))),128))]),_:1}),v.value?I("",!0):(i(),x(q,{key:0,modelValue:p.value,"onUpdate:modelValue":e[5]||(e[5]=t=>p.value=t),item:null,selectables:_.value,onSuccess:V},null,8,["modelValue","selectables"]))],64)}}});export{ye as default};
