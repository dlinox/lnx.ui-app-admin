import{d as y,a7 as I,a9 as b,a4 as _,a6 as n,aa as u,ah as h,ag as f,h as i,an as o}from"./index-DvYzMf2M.js";import{r as s,i as w,a as T}from"./DataTable.types-BjrSoKaL.js";import{u as x}from"./composables-DRgl5ljF.js";import{_ as C}from"./Dropdown-DsRfH9bj.js";import{N as c}from"./Col-CIH6lTu0.js";const P=y({__name:"DataTableOp",props:{item:{}},emits:["edit","delete","curriculum"],setup(e,{emit:t}){const r=x(),a=t,l=e,d=I(),p=[{label:"Gestionar cursos",key:"CurriculumCourse",icon:s("grid-2"),props:{onClick:()=>d.push({name:"CurriculumCourse",params:{id:l.item.id}})}},{label:"Editar",key:"edit",icon:s("edit-2"),props:{onClick:()=>a("edit")}},{label:"Eliminar",key:"delete",icon:s("trash","red"),props:{style:{color:"red"},onClick:()=>{r.warning({title:"Confirmar",content:"¿Está seguro que desea eliminar este registro?",positiveText:"Eliminar",negativeText:"Cancelar",closable:!1,showIcon:!1,negativeButtonProps:{secondary:!0,type:"tertiary",size:"large"},positiveButtonProps:{size:"large",type:"error"},onPositiveClick:()=>{a("delete")}})}}}];return(m,g)=>{const k=f,E=C;return b(),_(E,{options:p,placement:"bottom-start"},{default:n(()=>[u(k,null,{default:n(()=>[u(h,{"icon-name":"setting-5",size:"20"})]),_:1})]),_:1})}}}),q=y({__name:"CurriculumCourseDataTableOp",props:{item:{}},emits:["edit","delete","curriculum"],setup(e,{emit:t}){const r=x(),a=t,l=[{label:"Editar",key:"edit",icon:s("edit-2"),props:{onClick:()=>a("edit")}},{label:"Eliminar",key:"delete",icon:s("trash","red"),props:{style:{color:"red"},onClick:()=>{r.warning({title:"Confirmar",content:"¿Está seguro que desea eliminar este registro?",positiveText:"Eliminar",negativeText:"Cancelar",closable:!1,showIcon:!1,negativeButtonProps:{secondary:!0,type:"tertiary",size:"large"},positiveButtonProps:{size:"large",type:"error"},onPositiveClick:()=>{a("delete")}})}}}];return(d,p)=>{const m=f,g=C;return b(),_(g,{options:l,placement:"bottom-start"},{default:n(()=>[u(m,null,{default:n(()=>[u(h,{"icon-name":"setting-5",size:"20"})]),_:1})]),_:1})}}}),R=(e=w())=>({page:e.page,total:e.total,pageSize:e.pageSize,pageCount:e.pageCount,showSizePicker:!0,pageSizes:[10,50,100,500,1e3,5e3],style:{paddingRight:"16px",paddingBottom:"12px"},prefix(){return`Total ${e.total} registros`}}),B=(e,t)=>[{title:"Ops.",key:"ops",width:"80px",fixed:"left",render(r){const a=r;return i(P,{onEdit:()=>{e(a)},onDelete:()=>{t(a)},item:a},{default:()=>"Editar"})}},{title:"Nombre",key:"name",minWidth:"300px"},{title:"Habilitado",key:"isEnabled",width:"150px",render:r=>i(c,{type:r.isEnabled?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isEnabled?"	Habilitado":"Deshabilitado"})}],H=(e,t)=>[{title:"Ops.",key:"ops",width:"80px",fixed:"left",render(r){const a=r;return i(q,{onEdit:()=>{e(a)},onDelete:()=>{t(a)},item:a},{default:()=>"Editar"})}},{title:"Orden",key:"order",minWidth:"70px",align:"right"},{title:"Area",key:"area",minWidth:"150px"},{title:"Modulo",key:"module",minWidth:"150px"},{title:"Codigo",key:"code",minWidth:"100px"},{title:"Curso",key:"course",minWidth:"150px"},{title:"Hrs. Practica",key:"hoursPractice",minWidth:"110px"},{title:"Hrs. Teoria",key:"hoursTheory",minWidth:"100px"},{title:"Creditos",key:"credits",minWidth:"100px"},{title:"Pre Requisito",key:"preRequisite",minWidth:"200px"},{title:"Extracurricular",key:"isExtracurricular",width:"150px",render:r=>i(c,{type:r.isExtracurricular?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isExtracurricular?"	Si":"No"})},{title:"Habilitado",key:"isEnabled",width:"150px",render:r=>i(c,{type:r.isEnabled?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isEnabled?"	Habilitado":"Deshabilitado"})}],N=()=>({id:null,name:null,isEnabled:!0}),S=()=>({name:[{required:!0,trigger:["blur","input"],message:"Obligatorio"}]}),V=()=>({id:null,order:0,code:null,hoursPractice:0,hoursTheory:0,credits:0,courseId:null,areaId:null,moduleId:null,curriculumId:null,preRequisiteId:null,isExtracurricular:!1,isEnabled:!0}),$=()=>({order:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],code:[{required:!0,trigger:["blur","input"],message:"Obligatorio"}],hoursPractice:[],hoursTheory:[],credits:[],courseId:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],areaId:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],moduleId:[],curriculumId:[],preRequisiteId:[],isExtracurricular:[],isEnabled:[]}),M=async e=>{try{return(await o().post("/curriculum/load-data-table",e)).data.data}catch{return T()}},j=async e=>{try{return{status:!0,data:(await o().post("/curriculum",e)).data.data}}catch(t){return t.response.status===422?{status:!1,data:t.response.data.errors}:{status:!1,data:null}}},A=async e=>{try{return{status:!0,data:(await o().put("/curriculum",e)).data.data}}catch(t){return t.response.status===422?{status:!1,data:t.response.data.errors}:{status:!1,data:null}}},G=async e=>{try{return await o().delete("/curriculum",{data:{id:e.id}}),!0}catch{return!1}},F=async e=>{try{return(await o().get(`/curriculum/get-data-item/${e}`)).data.data}catch{return{}}};export{A as _,j as a,N as b,S as c,R as d,B as e,M as f,G as g,V as h,$ as i,H as j,F as k};
