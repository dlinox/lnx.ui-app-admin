import{c as R,d as x}from"./documentType.services-CWSTuR9m.js";import{_ as B,a as $,b as M}from"./FormItem-DAU9UqDA.js";import{_ as j,b as F,a as P}from"./Col-C2AyWxkb.js";import{_ as q}from"./Switch-HHJXHes7.js";import{d as A,e as G,r as i,g as H,a9 as S,a4 as J,a6 as n,aa as a,ae as w,ag as K,al as L,am as Q}from"./index-BDy3jz-R.js";const y=()=>({id:null,name:null,isEnabled:!0}),W=()=>({name:[{required:!0,trigger:["blur","input"],message:"Obligatorio"}]}),ne=A({__name:"DocumentTypeForm",props:{item:{},modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(E,{emit:T}){const d=T,r=E,u=G({get:()=>r.modelValue,set:l=>d("update:modelValue",l)}),m=i(!1),_=i(null),t=i(y()),s=i(null),k=i({...W()}),D=async()=>{if(_.value){const l=await _.value.validate();let e=null;l?(m.value=!0,t.value.id?e=await R(t.value):e=await x(t.value),e.status?(d("success"),u.value=!1):s.value=e.data):console.log("Formulario inválido")}m.value=!1},I=()=>{console.log("Inicializando formulario"),t.value=r.item?{...r.item}:y()};return H(u,l=>{l&&(s.value=null,I())}),(l,e)=>{const O=B,p=$,f=j,V=q,c=F,C=P,N=M,v=K,U=L,z=Q;return S(),J(z,{show:u.value,"onUpdate:show":e[4]||(e[4]=o=>u.value=o)},{default:n(()=>[a(U,{style:{width:"500px"},title:l.item?"EDITAR TIPO DE DOCUMENTO":"NUEVO TIPO DE DOCUMENTO",segmented:{content:!0,footer:!0},size:"small",role:"dialog","aria-modal":"true"},{footer:n(()=>[a(c,{justify:"end"},{default:n(()=>[a(v,{tertiary:"",size:"large",onClick:e[3]||(e[3]=o=>u.value=!1),disabled:m.value},{default:n(()=>e[5]||(e[5]=[w(" Cancelar ")])),_:1},8,["disabled"]),a(v,{size:"large",type:"primary",onClick:D,loading:m.value},{default:n(()=>e[6]||(e[6]=[w("Guardar")])),_:1},8,["loading"])]),_:1})]),default:n(()=>[a(N,{ref_key:"formRef",ref:_,model:t.value,rules:k.value,size:"large"},{default:n(()=>[a(C,null,{default:n(()=>[a(f,{span:"24"},{default:n(()=>{var o;return[a(p,{path:"name",label:"Nombre",feedback:(o=s.value)==null?void 0:o.name},{default:n(()=>{var g;return[a(O,{status:((g=s.value)==null?void 0:g.name)!=null?"error":"",value:t.value.name,"onUpdate:value":e[0]||(e[0]=b=>t.value.name=b),onInput:e[1]||(e[1]=b=>s.value!=null?s.value.name=null:()=>{})},null,8,["status","value"])]}),_:1},8,["feedback"])]}),_:1}),a(f,{span:"24"},{default:n(()=>[a(c,{justify:"end"},{default:n(()=>[a(p,{"label-placement":"left",label:"¿Habilitado?",path:"isEnabled","show-feedback":!1},{default:n(()=>[a(V,{value:t.value.isEnabled,"onUpdate:value":e[2]||(e[2]=o=>t.value.isEnabled=o)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title"])]),_:1},8,["show"])}}});export{ne as _};
