import{_ as ee,a as te}from"./report.services-JOlGwV3e.js";import{d as L}from"./debounce.utils-DqPPCsFD.js";import{c as q}from"./student.services-Br0lnMr3.js";import{r as $}from"./icon.utils-ZuDWVKKn.js";import{d as z,e as I,r as c,j as C,a9 as k,aa as f,ab as t,ac as e,aB as G,aA as r,aG as j,_ as R,aL as H,ah as _,ag as P,ae as N,af as v,aI as J,a3 as ne,a8 as oe}from"./index-D8WIehE5.js";import{_ as K}from"./Divider-BbTAbzwE.js";import{_ as O,a as Q}from"./Col-C343CxWW.js";import{_ as W}from"./Input-BkREKv3h.js";import{a as T,_ as D}from"./ListItem-6RvHFZ_7.js";import{_ as E}from"./Thing-CPH5Q8pu.js";import{N as X}from"./Tag-C5AHKgys.js";import{_ as Y}from"./Space-CUL6VHzT.js";import"./DataTable.types-BEg5m_To.js";import"./Suffix-DFjECoaW.js";import"./use-merged-state-5TB2v_D7.js";const le={style:{"text-align":"end"}},ae={style:{padding:"0 1rem",color:"#999","font-size":"0.8rem"}},se=z({__name:"Enrollments",props:{modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(V,{emit:x}){const g=x,y=V,d=I({get:()=>y.modelValue,set:u=>g("update:modelValue",u)}),l=c(!1),p=c([]),a=c({code:"",documentNumber:"",name:"",lastNameFather:"",lastNameMother:""});return C(a.value,L(async u=>{l.value=!0,p.value=await q(u),l.value=!1},500)),C(d,u=>{}),(u,n)=>{const i=P,b=K,s=W,m=Q,M=X,U=E,w=Y,F=D,B=T,A=O,S=G,h=J;return f(),k(h,{show:d.value,"onUpdate:show":n[6]||(n[6]=o=>d.value=o)},{default:t(()=>[e(S,{style:{width:"800px"},title:"Generar Reporte - Matrículas",segmented:{content:!0,footer:!0},size:"small",role:"dialog","aria-modal":"true"},{"header-extra":t(()=>[e(i,{"render-icon":N($)("close-circle"),onClick:n[0]||(n[0]=o=>d.value=!1)},null,8,["render-icon"])]),footer:t(()=>[e(w,{justify:"end"},{default:t(()=>[e(i,{tertiary:"",size:"large",onClick:n[5]||(n[5]=o=>d.value=!1),disabled:l.value},{default:t(()=>n[10]||(n[10]=[r(" Cancelar ")])),_:1},8,["disabled"])]),_:1})]),default:t(()=>[e(b,{"title-placement":"left",style:{margin:"0 0 1rem 0"}},{default:t(()=>n[7]||(n[7]=[r(" Buscar estudiantes ")])),_:1}),e(A,{gutter:"16"},{default:t(()=>[e(m,{span:"5"},{default:t(()=>[e(s,{type:"text",value:a.value.documentNumber,"onUpdate:value":n[1]||(n[1]=o=>a.value.documentNumber=o),placeholder:"N° de Documento"},null,8,["value"])]),_:1}),e(m,{span:"7"},{default:t(()=>[e(s,{type:"text",value:a.value.name,"onUpdate:value":n[2]||(n[2]=o=>a.value.name=o),placeholder:"Nombre"},null,8,["value"])]),_:1}),e(m,{span:"6"},{default:t(()=>[e(s,{type:"text",value:a.value.lastNameFather,"onUpdate:value":n[3]||(n[3]=o=>a.value.lastNameFather=o),placeholder:"Apellido Paterno"},null,8,["value"])]),_:1}),e(m,{span:"6"},{default:t(()=>[e(s,{type:"text",value:a.value.lastNameMother,"onUpdate:value":n[4]||(n[4]=o=>a.value.lastNameMother=o),placeholder:"Apellido Materno"},null,8,["value"])]),_:1}),e(m,{span:"24"},{default:t(()=>[e(B,{hoverable:"",clickable:"",style:{"max-height":"300px","overflow-y":"auto"}},{header:t(()=>[v("div",le,[v("i",ae,[n[8]||(n[8]=r(" Se muestran los 10 mejores resultados de la busqueda | ")),v("strong",null," Total de resultados: "+_(p.value.length),1)])])]),default:t(()=>[(f(!0),j(R,null,H(p.value,o=>(f(),k(F,{style:{margin:"0 1rem"},key:o.id},{default:t(()=>[e(U,null,{header:t(()=>[e(M,{bordered:!1,class:"me-2"},{default:t(()=>[r(_(o.studentType),1)]),_:2},1024),r(" "+_(o.name)+" "+_(o.lastName),1)]),_:2},1024),e(w,{align:"center",justify:"end"},{default:t(()=>[e(i,{secondary:"",class:"ms-2",type:"error",onClick:Z=>N(ee)(o),"render-icon":N($)("document-download")},{default:t(()=>n[9]||(n[9]=[r(" PDF ")])),_:2},1032,["onClick","render-icon"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}}),ue={style:{"text-align":"end"}},re={style:{padding:"0 1rem",color:"#999","font-size":"0.8rem"}},de=z({__name:"Grades",props:{modelValue:{type:Boolean}},emits:["update:modelValue","success"],setup(V,{emit:x}){const g=x,y=V,d=I({get:()=>y.modelValue,set:u=>g("update:modelValue",u)}),l=c(!1),p=c([]),a=c({code:"",documentNumber:"",name:"",lastNameFather:"",lastNameMother:""});return C(a.value,L(async u=>{l.value=!0,p.value=await q(u),l.value=!1},500)),C(d,u=>{}),(u,n)=>{const i=P,b=K,s=W,m=Q,M=X,U=E,w=Y,F=D,B=T,A=O,S=G,h=J;return f(),k(h,{show:d.value,"onUpdate:show":n[6]||(n[6]=o=>d.value=o)},{default:t(()=>[e(S,{style:{width:"800px"},title:"Generar Reporte - Notas",segmented:{content:!0,footer:!0},size:"small",role:"dialog","aria-modal":"true"},{"header-extra":t(()=>[e(i,{"render-icon":N($)("close-circle"),onClick:n[0]||(n[0]=o=>d.value=!1)},null,8,["render-icon"])]),footer:t(()=>[e(w,{justify:"end"},{default:t(()=>[e(i,{tertiary:"",size:"large",onClick:n[5]||(n[5]=o=>d.value=!1),disabled:l.value},{default:t(()=>n[10]||(n[10]=[r(" Cancelar ")])),_:1},8,["disabled"])]),_:1})]),default:t(()=>[e(b,{"title-placement":"left",style:{margin:"0 0 1rem 0"}},{default:t(()=>n[7]||(n[7]=[r(" Buscar estudiantes ")])),_:1}),e(A,{gutter:"16"},{default:t(()=>[e(m,{span:"5"},{default:t(()=>[e(s,{type:"text",value:a.value.documentNumber,"onUpdate:value":n[1]||(n[1]=o=>a.value.documentNumber=o),placeholder:"N° de Documento"},null,8,["value"])]),_:1}),e(m,{span:"7"},{default:t(()=>[e(s,{type:"text",value:a.value.name,"onUpdate:value":n[2]||(n[2]=o=>a.value.name=o),placeholder:"Nombre"},null,8,["value"])]),_:1}),e(m,{span:"6"},{default:t(()=>[e(s,{type:"text",value:a.value.lastNameFather,"onUpdate:value":n[3]||(n[3]=o=>a.value.lastNameFather=o),placeholder:"Apellido Paterno"},null,8,["value"])]),_:1}),e(m,{span:"6"},{default:t(()=>[e(s,{type:"text",value:a.value.lastNameMother,"onUpdate:value":n[4]||(n[4]=o=>a.value.lastNameMother=o),placeholder:"Apellido Materno"},null,8,["value"])]),_:1}),e(m,{span:"24"},{default:t(()=>[e(B,{hoverable:"",clickable:"",style:{"max-height":"300px","overflow-y":"auto"}},{header:t(()=>[v("div",ue,[v("i",re,[n[8]||(n[8]=r(" Se muestran los 10 mejores resultados de la busqueda | ")),v("strong",null," Total de resultados: "+_(p.value.length),1)])])]),default:t(()=>[(f(!0),j(R,null,H(p.value,o=>(f(),k(F,{style:{margin:"0 1rem"},key:o.id},{default:t(()=>[e(U,null,{header:t(()=>[e(M,{bordered:!1,class:"me-2"},{default:t(()=>[r(_(o.studentType),1)]),_:2},1024),r(" "+_(o.name)+" "+_(o.lastName),1)]),_:2},1024),e(w,{align:"center",justify:"end"},{default:t(()=>[e(i,{secondary:"",class:"ms-2",type:"error",onClick:Z=>N(te)(o),"render-icon":N($)("document-download")},{default:t(()=>n[9]||(n[9]=[r(" PDF ")])),_:2},1032,["onClick","render-icon"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])}}}),$e=z({__name:"StudentReportView",setup(V){const{hasPermission:x}=ne(),g=c(!1),y=c(!1);return(d,l)=>{const p=P,a=E,u=D,n=T,i=G,b=oe("AppNotAuthorization");return N(x)(["report.student"])?(f(),j(R,{key:0},[e(i,{segmented:{header:!0,content:!0}},{header:t(()=>l[4]||(l[4]=[v("span",{class:"text-sm text-slate-500"}," Reportes ",-1),v("h5",{class:"text-lg font-bold text-slate-800"},"Reporte de estudiantes",-1)])),default:t(()=>[e(n,null,{default:t(()=>[e(u,null,{suffix:t(()=>[e(p,{onClick:l[0]||(l[0]=s=>g.value=!0)},{default:t(()=>l[5]||(l[5]=[r(" Generar reporte ")])),_:1})]),default:t(()=>[e(a,{title:"Matrículas",description:"Registro de matrículas"})]),_:1}),e(u,null,{suffix:t(()=>[e(p,{onClick:l[1]||(l[1]=s=>y.value=!0)},{default:t(()=>l[6]||(l[6]=[r(" Generar reporte ")])),_:1})]),default:t(()=>[e(a,{title:"Notas",description:"Registro de notas"})]),_:1})]),_:1})]),_:1}),e(se,{modelValue:g.value,"onUpdate:modelValue":l[2]||(l[2]=s=>g.value=s)},null,8,["modelValue"]),e(de,{modelValue:y.value,"onUpdate:modelValue":l[3]||(l[3]=s=>y.value=s)},null,8,["modelValue"])],64)):(f(),k(b,{key:1}))}}});export{$e as default};
