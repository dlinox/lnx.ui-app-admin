import{d as x,a3 as T,a6 as v,a9 as y,aa as f,ab as s,ad as z,ac as o,ae as m,ag as k,aH as I,aA as _,h as u,az as R}from"./index-DwV6zJCX.js";import{r as g}from"./icon.utils-DutMd2qr.js";import{_ as M}from"./ButtonGroup-DmyPp4n9.js";import{u as D}from"./composables-OPWM5oN5.js";import{_ as O}from"./Dropdown-CxNUQKFj.js";import{i as q,a as N}from"./DataTable.types-BEg5m_To.js";import{_ as h}from"./Tag-tDmUe03M.js";const W=x({__name:"DataTableOp",props:{item:{}},emits:["edit","delete","curriculum"],setup(e,{emit:t}){const{hasPermission:r}=T(),a=D(),n=t,d=e,c=v(),b=[{show:r(["curriculum.edit"]),label:"Editar",key:"edit",icon:g("edit-2"),props:{onClick:()=>n("edit")}},{show:r(["curriculum.delete"]),label:"Eliminar",key:"delete",icon:g("trash","red"),props:{style:{color:"red"},onClick:()=>{a.warning({title:"Confirmar",content:"¿Está seguro que desea eliminar este registro?",positiveText:"Eliminar",negativeText:"Cancelar",closable:!1,showIcon:!1,negativeButtonProps:{secondary:!0,type:"tertiary",size:"large"},positiveButtonProps:{size:"large",type:"error"},onPositiveClick:()=>{n("delete")}})}}}];return(C,i)=>{const p=k,P=O,w=M;return f(),y(w,{vertical:""},{default:s(()=>[m(r)(["curriculum.edit","curriculum.delete"])?(f(),y(P,{key:0,options:b,placement:"bottom-start"},{default:s(()=>[o(p,null,{default:s(()=>[o(I,{"icon-name":"setting-5",size:"20"})]),_:1})]),_:1})):z("",!0),o(p,{size:"small",onClick:i[0]||(i[0]=E=>m(c).push({name:"Area",params:{id:d.item.id}}))},{default:s(()=>i[3]||(i[3]=[_(" Areas ")])),_:1}),o(p,{size:"small",onClick:i[1]||(i[1]=E=>m(c).push({name:"Module",params:{id:d.item.id}}))},{default:s(()=>i[4]||(i[4]=[_(" Modulos ")])),_:1}),o(p,{size:"small",onClick:i[2]||(i[2]=E=>m(c).push({name:"Course",params:{id:d.item.id}}))},{default:s(()=>i[5]||(i[5]=[_(" Cursos ")])),_:1})]),_:1})}}}),S=x({__name:"CurriculumCourseDataTableOp",props:{item:{}},emits:["edit","delete","curriculum"],setup(e,{emit:t}){const r=D(),a=t,n=[{label:"Editar",key:"edit",icon:g("edit-2"),props:{onClick:()=>a("edit")}},{label:"Eliminar",key:"delete",icon:g("trash","red"),props:{style:{color:"red"},onClick:()=>{r.warning({title:"Confirmar",content:"¿Está seguro que desea eliminar este registro?",positiveText:"Eliminar",negativeText:"Cancelar",closable:!1,showIcon:!1,negativeButtonProps:{secondary:!0,type:"tertiary",size:"large"},positiveButtonProps:{size:"large",type:"error"},onPositiveClick:()=>{a("delete")}})}}}];return(d,c)=>{const b=k,C=O;return f(),y(C,{options:n,placement:"bottom-start"},{default:s(()=>[o(b,null,{default:s(()=>[o(I,{"icon-name":"setting-5",size:"20"})]),_:1})]),_:1})}}}),A=[{value:1,label:"PROMEDIO PONDERADO CON ACTITUDES"},{value:2,label:"PROMEDIO SIMPLE ENTRE UNIDADES"}],j=(e=q())=>({page:e.page,total:e.total,pageSize:e.pageSize,pageCount:e.pageCount,showSizePicker:!0,pageSizes:[10,50,100,500,1e3,5e3],style:{paddingRight:"16px",paddingBottom:"12px"},prefix(){return`Total ${e.total} registros`}}),F=(e,t)=>[{title:"Ops.",key:"ops",width:"80px",fixed:"left",render(r){const a=r;return u(W,{onEdit:()=>{e(a)},onDelete:()=>{t(a)},item:a},{default:()=>"Editar"})}},{title:"Nombre",key:"name",minWidth:"150px"},{title:"Modelo de Calificacion",key:"gradingModel",minWidth:"150px",render(r){return u("span",{},{default:()=>{var a;return(a=A.find(n=>n.value==r.gradingModel))==null?void 0:a.label}})}},{title:"Habilitado",key:"isEnabled",width:"150px",render:r=>u(h,{type:r.isEnabled?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isEnabled?"	Habilitado":"Deshabilitado"})}],J=(e,t)=>[{title:"Ops.",key:"ops",width:"80px",fixed:"left",render(r){const a=r;return u(S,{onEdit:()=>{e(a)},onDelete:()=>{t(a)},item:a},{default:()=>"Editar"})}},{title:"Orden",key:"order",minWidth:"70px",align:"right"},{title:"Area",key:"area",minWidth:"150px"},{title:"Modulo",key:"module",minWidth:"150px"},{title:"Codigo",key:"code",minWidth:"100px"},{title:"Curso",key:"course",minWidth:"150px"},{title:"Hrs. Practica",key:"hoursPractice",minWidth:"110px"},{title:"Hrs. Teoria",key:"hoursTheory",minWidth:"100px"},{title:"Creditos",key:"credits",minWidth:"100px"},{title:"Pre Requisito",key:"preRequisite",minWidth:"200px"},{title:"Extracurricular",key:"isExtracurricular",width:"150px",render:r=>u(h,{type:r.isExtracurricular?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isExtracurricular?"	Si":"No"})},{title:"Habilitado",key:"isEnabled",width:"150px",render:r=>u(h,{type:r.isEnabled?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isEnabled?"	Habilitado":"Deshabilitado"})}],K=()=>({id:null,name:null,gradingModel:1,isEnabled:!0}),Q=()=>({name:[{required:!0,trigger:["blur","input"],message:"Obligatorio"}],gradingModel:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],isEnabled:[]}),X=()=>({id:null,order:0,code:null,hoursPractice:0,hoursTheory:0,credits:0,courseId:null,areaId:null,moduleId:null,curriculumId:null,preRequisiteId:null,isExtracurricular:!1,isEnabled:!0}),Y=()=>({order:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],code:[{required:!0,trigger:["blur","input"],message:"Obligatorio"}],hoursPractice:[],hoursTheory:[],credits:[],courseId:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],areaId:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],moduleId:[],curriculumId:[],preRequisiteId:[],isExtracurricular:[],isEnabled:[]}),l=R(),Z=async e=>{try{return(await l.post("/curriculum/load-data-table",e)).data.data}catch{return N()}},ee=async e=>{try{return{status:!0,data:(await l.post("/curriculum",e)).data.data}}catch(t){return t.response.status===422?{status:!1,data:t.response.data.errors}:{status:!1,data:null}}},te=async e=>{try{return{status:!0,data:(await l.put("/curriculum",e)).data.data}}catch(t){return t.response.status===422?{status:!1,data:t.response.data.errors}:{status:!1,data:null}}},re=async e=>{try{return await l.delete("/curriculum",{data:{id:e.id}}),!0}catch{return!1}},ae=async e=>{try{return(await l.get(`/curriculum/get-data-item/${e}`)).data.data}catch{return{}}};export{A as G,K as _,Q as a,te as b,ee as c,j as d,F as e,Z as f,re as g,X as h,Y as i,J as j,ae as k};
