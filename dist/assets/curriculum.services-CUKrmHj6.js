import{d as h,a7 as P,aa as x,a5 as C,a8 as s,ab as o,ag as k,ac as m,ah as g,af as E,h as u}from"./index-B1moMmGf.js";import{r as p}from"./icon.utils-CvbdSYhW.js";import{_ as z}from"./ButtonGroup-DWEPyGnR.js";import{u as I}from"./composables-Dzo7p1MU.js";import{_ as w}from"./Dropdown-56SzW5B2.js";import{i as q,a as D}from"./DataTable.types-BIkVFYV7.js";import{N as y}from"./Select-CFNlPL_t.js";import{h as l}from"./index-Z2j9nM23.js";const O=h({__name:"DataTableOp",props:{item:{}},emits:["edit","delete","curriculum"],setup(e,{emit:t}){const r=I(),i=t,n=e,d=P(),b=[{label:"Editar",key:"edit",icon:p("edit-2"),props:{onClick:()=>i("edit")}},{label:"Eliminar",key:"delete",icon:p("trash","red"),props:{style:{color:"red"},onClick:()=>{r.warning({title:"Confirmar",content:"¿Está seguro que desea eliminar este registro?",positiveText:"Eliminar",negativeText:"Cancelar",closable:!1,showIcon:!1,negativeButtonProps:{secondary:!0,type:"tertiary",size:"large"},positiveButtonProps:{size:"large",type:"error"},onPositiveClick:()=>{i("delete")}})}}}];return(_,a)=>{const c=E,T=w,v=z;return x(),C(v,{vertical:""},{default:s(()=>[o(T,{options:b,placement:"bottom-start"},{default:s(()=>[o(c,null,{default:s(()=>[o(k,{"icon-name":"setting-5",size:"20"})]),_:1})]),_:1}),o(c,{size:"small",onClick:a[0]||(a[0]=f=>m(d).push({name:"Area",params:{id:n.item.id}}))},{default:s(()=>a[3]||(a[3]=[g(" Areas ")])),_:1}),o(c,{size:"small",onClick:a[1]||(a[1]=f=>m(d).push({name:"Module",params:{id:n.item.id}}))},{default:s(()=>a[4]||(a[4]=[g(" Modulos ")])),_:1}),o(c,{size:"small",onClick:a[2]||(a[2]=f=>m(d).push({name:"Course",params:{id:n.item.id}}))},{default:s(()=>a[5]||(a[5]=[g(" Cursos ")])),_:1})]),_:1})}}}),W=h({__name:"CurriculumCourseDataTableOp",props:{item:{}},emits:["edit","delete","curriculum"],setup(e,{emit:t}){const r=I(),i=t,n=[{label:"Editar",key:"edit",icon:p("edit-2"),props:{onClick:()=>i("edit")}},{label:"Eliminar",key:"delete",icon:p("trash","red"),props:{style:{color:"red"},onClick:()=>{r.warning({title:"Confirmar",content:"¿Está seguro que desea eliminar este registro?",positiveText:"Eliminar",negativeText:"Cancelar",closable:!1,showIcon:!1,negativeButtonProps:{secondary:!0,type:"tertiary",size:"large"},positiveButtonProps:{size:"large",type:"error"},onPositiveClick:()=>{i("delete")}})}}}];return(d,b)=>{const _=E,a=w;return x(),C(a,{options:n,placement:"bottom-start"},{default:s(()=>[o(_,null,{default:s(()=>[o(k,{"icon-name":"setting-5",size:"20"})]),_:1})]),_:1})}}}),A=(e=q())=>({page:e.page,total:e.total,pageSize:e.pageSize,pageCount:e.pageCount,showSizePicker:!0,pageSizes:[10,50,100,500,1e3,5e3],style:{paddingRight:"16px",paddingBottom:"12px"},prefix(){return`Total ${e.total} registros`}}),j=(e,t)=>[{title:"Ops.",key:"ops",width:"80px",fixed:"left",render(r){const i=r;return u(O,{onEdit:()=>{e(i)},onDelete:()=>{t(i)},item:i},{default:()=>"Editar"})}},{title:"Nombre",key:"name",minWidth:"150px"},{title:"Habilitado",key:"isEnabled",width:"150px",render:r=>u(y,{type:r.isEnabled?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isEnabled?"	Habilitado":"Deshabilitado"})}],F=(e,t)=>[{title:"Ops.",key:"ops",width:"80px",fixed:"left",render(r){const i=r;return u(W,{onEdit:()=>{e(i)},onDelete:()=>{t(i)},item:i},{default:()=>"Editar"})}},{title:"Orden",key:"order",minWidth:"70px",align:"right"},{title:"Area",key:"area",minWidth:"150px"},{title:"Modulo",key:"module",minWidth:"150px"},{title:"Codigo",key:"code",minWidth:"100px"},{title:"Curso",key:"course",minWidth:"150px"},{title:"Hrs. Practica",key:"hoursPractice",minWidth:"110px"},{title:"Hrs. Teoria",key:"hoursTheory",minWidth:"100px"},{title:"Creditos",key:"credits",minWidth:"100px"},{title:"Pre Requisito",key:"preRequisite",minWidth:"200px"},{title:"Extracurricular",key:"isExtracurricular",width:"150px",render:r=>u(y,{type:r.isExtracurricular?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isExtracurricular?"	Si":"No"})},{title:"Habilitado",key:"isEnabled",width:"150px",render:r=>u(y,{type:r.isEnabled?"success":"error",tertiary:!0,bordered:!1,strong:!0},{default:()=>r.isEnabled?"	Habilitado":"Deshabilitado"})}],G=()=>({id:null,name:null,isEnabled:!0}),J=()=>({name:[{required:!0,trigger:["blur","input"],message:"Obligatorio"}]}),K=()=>({id:null,order:0,code:null,hoursPractice:0,hoursTheory:0,credits:0,courseId:null,areaId:null,moduleId:null,curriculumId:null,preRequisiteId:null,isExtracurricular:!1,isEnabled:!0}),L=()=>({order:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],code:[{required:!0,trigger:["blur","input"],message:"Obligatorio"}],hoursPractice:[],hoursTheory:[],credits:[],courseId:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],areaId:[{type:"number",required:!0,trigger:["blur","input"],message:"Obligatorio"}],moduleId:[],curriculumId:[],preRequisiteId:[],isExtracurricular:[],isEnabled:[]}),Q=async e=>{try{return(await l().post("/curriculum/load-data-table",e)).data.data}catch{return D()}},U=async e=>{try{return{status:!0,data:(await l().post("/curriculum",e)).data.data}}catch(t){return t.response.status===422?{status:!1,data:t.response.data.errors}:{status:!1,data:null}}},X=async e=>{try{return{status:!0,data:(await l().put("/curriculum",e)).data.data}}catch(t){return t.response.status===422?{status:!1,data:t.response.data.errors}:{status:!1,data:null}}},Y=async e=>{try{return await l().delete("/curriculum",{data:{id:e.id}}),!0}catch{return!1}},Z=async e=>{try{return(await l().get(`/curriculum/get-data-item/${e}`)).data.data}catch{return{}}};export{X as _,U as a,G as b,J as c,A as d,j as e,Q as f,Y as g,K as h,L as i,F as j,Z as k};
