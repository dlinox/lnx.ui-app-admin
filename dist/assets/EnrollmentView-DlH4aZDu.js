import{d as U,a5 as j,r,j as z,aF as b,a9 as p,ab as a,a8 as x,ac as A,aa as n,az as s,af as D,ad as g,ae as u,aA as I,_ as $,aT as R,ag as S}from"./index-BA0H_JCl.js";import{r as L}from"./icon.utils-CUQHzjSp.js";import{d as q}from"./debounce.utils-DqPPCsFD.js";import{_ as P}from"./StudentForm.vue_vue_type_script_setup_true_lang-BJJw73Ya.js";import{c as G}from"./student.services-Bq67KpZc.js";import{c as H}from"./studentType.services-CUgrXzhp.js";import{c as J}from"./documentType.services-BxS8QtUR.js";import{_ as K}from"./Divider-CmBklFij.js";import{_ as O,a as Q}from"./ListItem-ClLsnlyq.js";import{_ as W}from"./Thing-OxyXXywY.js";import{_ as X,a as Y}from"./Col-cTRCMRiH.js";import{_ as Z}from"./Input-CZ0NJzi4.js";import{_ as ee}from"./Tag-7hJbHmVV.js";import{_ as te}from"./Space-ByIL93Yx.js";import"./genders.constans-BK559Fh_.js";import"./useBreakpoints-Dkt6LK3U.js";import"./Select-DtHdO6pL.js";import"./Popover-Aio3sJwU.js";import"./get-CuJVaMdf.js";import"./use-merged-state-DP6rciDv.js";import"./Suffix-C2nBboqj.js";import"./FormItem-BNivClae.js";import"./Switch-De4fbpOJ.js";import"./DataTable.types-BEg5m_To.js";const ae={style:{"text-align":"end"}},ne={style:{padding:"0 1rem",color:"#999","font-size":"0.8rem"}},oe={class:"pt-3 text-end"},Ce=U({__name:"EnrollmentView",setup(le){const y=j(),_=r(!1),d=r({}),o=r({code:"",documentNumber:"",name:"",lastNameFather:"",lastNameMother:""}),c=r([]),v=r(!0),N=r(!1),k=l=>{o.value.documentNumber=l.documentNumber,o.value.name=l.name,o.value.lastNameFather=l.lastNameFather,o.value.lastNameMother=l.lastNameMother};return z(o.value,q(async l=>{console.log(l),N.value=!0,c.value=await G(l),N.value=!1},500)),(async()=>{v.value=!0,d.value.studentTypesItems=await H(),d.value.documentTypesItems=await J(),v.value=!1})(),(l,e)=>{const f=D,w=K,m=Z,i=Y,V=X,h=I,M=ee,T=W,F=te,C=O,B=Q;return p(),b($,null,[a(h,{segmented:{header:!0,footer:!0,content:!0}},{header:n(()=>e[6]||(e[6]=[u("h6",{class:"text-sm text-gray-500"}," Matriculas ",-1),s(" Realizar la matricula de los estudiantes ")])),"header-extra":n(()=>[a(f,{"render-icon":g(L)("additem"),type:"primary",onClick:e[0]||(e[0]=t=>_.value=!0)},{default:n(()=>e[7]||(e[7]=[s(" Estudiante ")])),_:1},8,["render-icon"])]),action:n(()=>[a(w,{"title-placement":"left",style:{margin:"0 0 1rem 0"}},{default:n(()=>e[8]||(e[8]=[s(" Buscar estudiantes ")])),_:1}),a(V,{gutter:"16"},{default:n(()=>[a(i,{span:"5"},{default:n(()=>[a(m,{type:"text",value:o.value.documentNumber,"onUpdate:value":e[1]||(e[1]=t=>o.value.documentNumber=t),placeholder:"NÂ° de Documento"},null,8,["value"])]),_:1}),a(i,{span:"7"},{default:n(()=>[a(m,{type:"text",value:o.value.name,"onUpdate:value":e[2]||(e[2]=t=>o.value.name=t),placeholder:"Nombre"},null,8,["value"])]),_:1}),a(i,{span:"6"},{default:n(()=>[a(m,{type:"text",value:o.value.lastNameFather,"onUpdate:value":e[3]||(e[3]=t=>o.value.lastNameFather=t),placeholder:"Apellido Paterno"},null,8,["value"])]),_:1}),a(i,{span:"6"},{default:n(()=>[a(m,{type:"text",value:o.value.lastNameMother,"onUpdate:value":e[4]||(e[4]=t=>o.value.lastNameMother=t),placeholder:"Apellido Materno"},null,8,["value"])]),_:1})]),_:1})]),_:1}),a(B,{hoverable:"",clickable:""},{header:n(()=>[u("div",ae,[u("i",ne,[e[9]||(e[9]=s(" Se muestran los 10 mejores resultados de la busqueda | ")),u("strong",null," Total de resultados: "+S(c.value.length),1)])])]),default:n(()=>[(p(!0),b($,null,R(c.value,t=>(p(),x(C,{style:{margin:"0 1rem"},key:t.id},{default:n(()=>[a(T,{title:`${t.name} ${t.lastName}`,description:`${t.documentType?t.documentType:"-"}    ${t.documentNumber?t.documentNumber:"-"}`},{default:n(()=>[a(M,{bordered:!1},{default:n(()=>[s(S(t.studentType),1)]),_:2},1024)]),_:2},1032,["title","description"]),u("div",oe,[a(F,{align:"center",justify:"end"},{default:n(()=>[a(f,{class:"ms-2",onClick:E=>g(y).push({name:"EnrollmentStudent",params:{id:t.id}})},{default:n(()=>e[10]||(e[10]=[s(" Matricular ")])),_:2},1032,["onClick"]),a(f,{onClick:E=>g(y).push({name:"EnrollmentSpecialStudent",params:{id:t.id}})},{default:n(()=>e[11]||(e[11]=[s(" Matriculas Especiales ")])),_:2},1032,["onClick"])]),_:2},1024)])]),_:2},1024))),128))]),_:1}),v.value?A("",!0):(p(),x(P,{key:0,modelValue:_.value,"onUpdate:modelValue":e[5]||(e[5]=t=>_.value=t),item:null,selectables:d.value,onSuccess:k},null,8,["modelValue","selectables"]))],64)}}});export{Ce as default};
